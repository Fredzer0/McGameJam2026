[gd_scene format=3 uid="uid://de0tw5hb7yjyy"]

[ext_resource type="PackedScene" uid="uid://b7ggpa1vwgrl2" path="res://vfx/ShaderComposer.tscn" id="1_2jfjj"]
[ext_resource type="PackedScene" uid="uid://dt5h0bmojprp0" path="res://systems/grass/grass_system.tscn" id="2_ntnxr"]
[ext_resource type="PackedScene" uid="uid://b812iuikvckso" path="res://entities/player/Player.tscn" id="3_lbxsr"]
[ext_resource type="PackedScene" uid="uid://b5x8y1n2m3q1" path="res://ui/hud/HUD.tscn" id="4_ntnxr"]
[ext_resource type="PackedScene" uid="uid://bh5xd7i8ik0ls" path="res://assets/ground.tscn" id="4_vmibe"]
[ext_resource type="Script" uid="uid://hnap8lcnuimj" path="res://Scripts/suspicion_director.gd" id="5_3vw7n"]
[ext_resource type="PackedScene" uid="uid://cmhqtwiqubm67" path="res://assets/models/test_house.tscn" id="5_bvijt"]
[ext_resource type="PackedScene" uid="uid://swr0u0yhlakd" path="res://assets/models/testHouse.glb" id="6_3mabw"]
[ext_resource type="Script" uid="uid://bf8ihgj0m2qtb" path="res://Scripts/game_director.gd" id="6_vmibe"]

[sub_resource type="BoxShape3D" id="BoxShape3D_ko617"]
size = Vector3(32, 1, 32)

[sub_resource type="Environment" id="Environment_3vw7n"]
background_mode = 1
background_energy_multiplier = 0.0
ambient_light_source = 1
ambient_light_color = Color(1, 1, 1, 1)
volumetric_fog_enabled = true
volumetric_fog_density = 0.001

[node name="Main" type="Node3D" unique_id=1952732056]

[node name="SubViewportContainer" type="SubViewportContainer" parent="." unique_id=325294651]
texture_filter = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -24.0
offset_top = -37.0
offset_right = -24.0
offset_bottom = -37.0
grow_horizontal = 2
grow_vertical = 2
stretch = true
stretch_shrink = 2

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer" unique_id=1096681745]
handle_input_locally = false
size = Vector2i(576, 324)
render_target_update_mode = 4

[node name="GrassSystem" parent="SubViewportContainer/SubViewport" unique_id=1244882170 instance=ExtResource("2_ntnxr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.459724, 0)
density = 2.0
uniform_rotation_degrees = 20.0

[node name="Area3D" type="Area3D" parent="SubViewportContainer/SubViewport/GrassSystem" unique_id=914834006]

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/GrassSystem/Area3D" unique_id=945302265]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.9919863, 0)
shape = SubResource("BoxShape3D_ko617")

[node name="Player" parent="SubViewportContainer/SubViewport" unique_id=253799011 groups=["player"] instance=ExtResource("3_lbxsr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.684, 1, 0)

[node name="Camera3D" type="Camera3D" parent="SubViewportContainer/SubViewport/Player" unique_id=1376439612]
transform = Transform3D(1, 0, 0, 0, 0.7431448, 0.6691306, 0, -0.6691306, 0.7431448, 0, 12, 12)
projection = 1
size = 16.673
near = 0.001
far = 100.0

[node name="Environment" type="Node3D" parent="SubViewportContainer/SubViewport" unique_id=5269055]

[node name="ShaderComposer" parent="SubViewportContainer/SubViewport/Environment" unique_id=2001211638 instance=ExtResource("1_2jfjj")]
environment = SubResource("Environment_3vw7n")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport/Environment" unique_id=903815987]
transform = Transform3D(0.8058663, -0.3942669, 0.44173878, 0, 0.7460574, 0.66588163, -0.5920976, -0.53661156, 0.6012225, 0, 1.6648335, 0)
light_energy = 0.208
light_volumetric_fog_energy = 0.0
shadow_enabled = true

[node name="Enemies" type="Node3D" parent="SubViewportContainer/SubViewport" unique_id=1802094932]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="SubViewportContainer/SubViewport" unique_id=2101351495]

[node name="ground" parent="SubViewportContainer/SubViewport/NavigationRegion3D" unique_id=1434387679 instance=ExtResource("4_vmibe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.095, 0, 0.799)

[node name="testHouse" parent="SubViewportContainer/SubViewport/NavigationRegion3D" unique_id=558572274 instance=ExtResource("5_bvijt")]
transform = Transform3D(0.56644934, 0, 0.82409656, 0, 1, 0, -0.82409656, 0, 0.56644934, 0, 0, -13.051229)

[node name="testHouse2" parent="SubViewportContainer/SubViewport/NavigationRegion3D" unique_id=1865938261 instance=ExtResource("5_bvijt")]
transform = Transform3D(0.28353, 0, -0.9589634, 0, 1, 0, 0.9589634, 0, 0.28353, -3.4413567, 0, 4.602582)

[node name="testHouse3" parent="SubViewportContainer/SubViewport/NavigationRegion3D" unique_id=945802593 instance=ExtResource("5_bvijt")]
transform = Transform3D(0.47419578, 0, 0.88041943, 0, 1, 0, -0.88041943, 0, 0.47419578, -12.726931, 0, -5.243807)

[node name="testHouse4" parent="SubViewportContainer/SubViewport/NavigationRegion3D" unique_id=672200696 instance=ExtResource("5_bvijt")]
transform = Transform3D(0.8544316, 0, -0.51956385, 0, 1, 0, 0.51956385, 0, 0.8544316, 16.446041, 0, 0)

[node name="testHouse5" parent="SubViewportContainer/SubViewport/NavigationRegion3D" unique_id=802480093 instance=ExtResource("6_3mabw")]
transform = Transform3D(0.6990271, 0, -0.71509516, 0, 1, 0, 0.71509516, 0, 0.6990271, 6.2744412, 0.023299795, -4.4388447)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport" unique_id=214372113]

[node name="HUD" parent="." unique_id=999043377 instance=ExtResource("4_ntnxr")]

[node name="Systems" type="Node3D" parent="." unique_id=1664020045]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -37.565052, 0)

[node name="SuspicionDirector" type="Node3D" parent="Systems" unique_id=1816481026 groups=["suspicionDirector"]]
script = ExtResource("5_3vw7n")

[node name="GameDirector" type="Node3D" parent="Systems" unique_id=1253136649]
script = ExtResource("6_vmibe")
