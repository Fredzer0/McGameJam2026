[gd_scene format=3 uid="uid://dnldj87l5o3ui"]

[ext_resource type="Script" uid="uid://dpw3diq6fn1m" path="res://ui/menus/main_menu_3d.gd" id="1_script"]
[ext_resource type="PackedScene" uid="uid://tii5wt3vmaim" path="res://ui/menus/MainMenu.tscn" id="2_menu"]
[ext_resource type="PackedScene" uid="uid://cvjyeenvvo6qd" path="res://ui/menus/character switcher.tscn" id="5_hgd5n"]
[ext_resource type="PackedScene" uid="uid://dt5h0bmojprp0" path="res://systems/grass/grass_system.tscn" id="6_7iu6a"]
[ext_resource type="PackedScene" uid="uid://b7ggpa1vwgrl2" path="res://vfx/ShaderComposer.tscn" id="7_2eadk"]

[sub_resource type="BoxShape3D" id="BoxShape3D_menu"]
size = Vector3(11.52, 11.774179, 0.1)

[sub_resource type="ViewportTexture" id="ViewportTexture_menu"]
viewport_path = NodePath("Node3D/SubViewport")

[sub_resource type="BoxShape3D" id="BoxShape3D_km8ba"]
size = Vector3(32, 1, 32)

[sub_resource type="Environment" id="Environment_km8ba"]
background_energy_multiplier = 0.0
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 0.1
volumetric_fog_enabled = true
volumetric_fog_density = 0.0074

[node name="MainMenu3D" type="Node3D" unique_id=1661368046]

[node name="Node3D" type="Node3D" parent="." unique_id=2004915920]
transform = Transform3D(0.34, 0, 0, 0, 0.34, 0, 0, 0, 0.34, -0.75, 0.4891659, 0.9910283)
script = ExtResource("1_script")

[node name="SubViewport" type="SubViewport" parent="Node3D" unique_id=1361820512]
transparent_bg = true
size = Vector2i(1383, 1787)
render_target_update_mode = 4

[node name="MainMenu" parent="Node3D/SubViewport" unique_id=476258449 instance=ExtResource("2_menu")]

[node name="Area3D" type="Area3D" parent="Node3D" unique_id=714333413]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/Area3D" unique_id=1470072066]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.64709, 0)
shape = SubResource("BoxShape3D_menu")

[node name="Sprite3D" type="Sprite3D" parent="Node3D" unique_id=240691773]
texture = SubResource("ViewportTexture_menu")

[node name="SubViewportContainer" type="SubViewportContainer" parent="." unique_id=675755676]
texture_filter = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true
stretch_shrink = 6

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer" unique_id=2093300362]
handle_input_locally = false
physics_object_picking = true
size = Vector2i(192, 108)
render_target_update_mode = 4

[node name="Camera3D" type="Camera3D" parent="SubViewportContainer/SubViewport" unique_id=405404657]
transform = Transform3D(1, 0, 0, 0, 0.83373165, 0.55216986, 0, -0.55216986, 0.83373165, 1.4691072, 2.8387527, 5.141138)
projection = 1
size = 5.313
far = 60.0

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport" unique_id=732797149]
transform = Transform3D(-0.8660253, -0.4330129, 0.2500001, 0, 0.49999994, 0.86602545, -0.50000024, 0.74999994, -0.43301257, 0, 0, 0)
visible = false
light_energy = 0.144
shadow_enabled = true

[node name="ShortGrassSystem" parent="SubViewportContainer/SubViewport" unique_id=1244882170 instance=ExtResource("6_7iu6a")]
transform = Transform3D(0.98827386, 0, -0.15269262, 0, 1, 0, 0.15269262, 0, 0.98827386, 0, -1.115233, 0)
density = 100.0
tall_grass_threshold = 0.27
uniform_rotation_degrees = 20.0

[node name="Area3D" type="Area3D" parent="SubViewportContainer/SubViewport/ShortGrassSystem" unique_id=172430722]

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/ShortGrassSystem/Area3D" unique_id=2052542560]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.9919863, 0)
shape = SubResource("BoxShape3D_km8ba")

[node name="ShaderComposer" parent="SubViewportContainer/SubViewport" unique_id=2001211638 instance=ExtResource("7_2eadk")]
environment = SubResource("Environment_km8ba")

[node name="CharacterSwitcher" parent="SubViewportContainer/SubViewport" unique_id=82957817 instance=ExtResource("5_hgd5n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6713324, -2.4222417, -1.0389533)

[node name="SpotLight3D2" type="SpotLight3D" parent="." unique_id=625115741]
transform = Transform3D(-0.87176114, -0.20127816, 0.44667625, 0.3337497, 0.42347252, 0.84218895, -0.35866937, 0.88326573, -0.3019904, 5.285563, 0.47723687, -2.022122)
light_color = Color(1, 1, 0.24313726, 1)
shadow_enabled = true
spot_range = 6.063
spot_attenuation = -0.06
spot_angle = 27.83
